cd capstone-project-9900-h16p-newbie-squad/backend
venv\Scripts\activate
$env:FLASK_APP = "project.py"


flask shell命令：
数据库初始化：
from app import db
from app.models import Role,User,Vehicle_type,Vehicle,Parking_space_type,Parking_space
db.drop_all()
db.create_all()


Mock data（建立三种角色）:
admin_role=Role(role_name='admin')
customer_role=Role(role_name='customer')
provider_role=Role(role_name='provider')
db.session.add_all([admin_role,customer_role,provider_role])
db.session.commit()

Mock command（查找角色，确认三种角色都成功建立）
Role.query.first()
Role.query.all()


Mock data（建立几个不同的用户）：
admin_role=Role.query.filter_by(role_name='admin').first()
customer_role=Role.query.filter_by(role_name='customer').first()
provider_role=Role.query.filter_by(role_name='provider').first()
yindi=User(username='yindi',email='123@email.com',password='123456',role=customer_role)
jiaxin=User(username='jiaxin',email='456@email.com',password='123456',role=customer_role)
bowen=User(username='bowen',email='789@email.com',password='123456',role=provider_role)
db.session.add_all([yindi,jiaxin,bowen])
db.session.commit()

Mock command（查找用户，确认成功建立了几个用户）
User.query.all()[0]


Mock data (建立几个不同的交通工具类型)
car_type=Vehicle_type(vehicle_typename='car')
truck_type=Vehicle_type(vehicle_typename='truck')
db.session.add_all([car_type, truck_type])
db.session.commit()

Vehicle_type.query.all()


Mock data (建立几个不同的停车位类型)
in_type = Parking_space_type(parking_space_typename = 'indoor')
out_type = Parking_space_type(parking_space_typename = 'outdoor')
db.session.add_all([in_type,out_type])
db.session.commit()

Parking_space_type.query.all()


Mock data (建立车辆)

Jiaxin_id = User.query.filter_by(username='jiaxin').first().id
yindi_id = User.query.filter_by(username='yindi').first().id

car_type_id = Vehicle_type.query.filter_by(vehicle_typename = 'car').first().id
truck_type_id = Vehicle_type.query.filter_by(vehicle_typename = 'truck').first().id

in_type_id = Parking_space_type.query.filter_by(parking_space_typename = 'indoor').first().id
out_type_id = Parking_space_type.query.filter_by(parking_space_typename = 'outdoor').first().id

car_a = Vehicle(vehicle_owner_id = yindi_id, vehicle_type_id = car_type_id, vehicle_license_plate = '苏A12345', vehicle_width = 1.8, vehicle_length = 2.5, vehicle_height = 1.5)

db.session.add(car_a)
db.session.commit()

Vehicle.query.all()



