cd capstone-project-9900-h16p-newbie-squad/backend
venv\Scripts\activate
$env:FLASK_DEBUG = 1
$env:FLASK_APP = "project.py"


解决本地数据库文件和远程的冲突
git checkout --ours backend/data-dev.sqlite

flask shell命令：
数据库初始化，重置：
from app import db
db.drop_all()
db.create_all()


快速测试：
建立三种角色，建立三个用户，在jiaxin下建立三辆车
from app import db
db.drop_all()
db.create_all()
from app import db
from app.models import Role,User
admin_role=Role(role_name='admin')
customer_role=Role(role_name='customer')
provider_role=Role(role_name='provider')
db.session.add_all([admin_role,customer_role,provider_role])
db.session.commit()
Role.query.first()
Role.query.all()
admin_role=Role.query.filter_by(role_name='admin').first()
customer_role=Role.query.filter_by(role_name='customer').first()
provider_role=Role.query.filter_by(role_name='provider').first()
yindi=User(username='yindi',email='123@email.com',password='123456',role=customer_role,bio='niubi1')
jiaxin=User(username='jiaxin',email='456@email.com',password='123456',role=customer_role,bio='niubi2')
bowen=User(username='bowen',email='789@email.com',password='123456',role=provider_role,bio='niubi3')
db.session.add_all([yindi,jiaxin,bowen])
db.session.commit()
new_admin=User(username='Admin', password="Admin123", role=admin_role)
db.session.add(new_admin)
db.session.commit()
User.query.all()
from app import db
from app.models import Vehicle,Role,User
jiaxin=User.query.filter_by(username='jiaxin').first()
car_a=Vehicle(owner=jiaxin, plate_number='ABC123', brand='Ford',width='4500',length='2200')
car_b=Vehicle(owner=jiaxin, plate_number='DEF456', brand='Honda',width='4300',length='2000')
db.session.add(car_a)
db.session.add(car_b)
db.session.commit()
Vehicle.query.all()



最终测试：
from app import db
from app.models import Role,User
db.drop_all()
db.create_all()
admin_role=Role(role_name='admin')
customer_role=Role(role_name='customer')
provider_role=Role(role_name='provider')
db.session.add_all([admin_role,customer_role,provider_role])
db.session.commit()
new_admin=User(username='Admin', password="Admin123", role=admin_role)
db.session.add(new_admin)
db.session.commit()
User.query.all()